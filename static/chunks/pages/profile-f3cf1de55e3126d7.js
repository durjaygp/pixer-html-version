(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{96874:function(e){e.exports=function(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}},34865:function(e,r,t){var n=t(89465),a=t(77813),l=Object.prototype.hasOwnProperty;e.exports=function(e,r,t){var o=e[r];l.call(e,r)&&a(o,t)&&(void 0!==t||r in e)||n(e,r,t)}},21078:function(e,r,t){var n=t(62488),a=t(37285);e.exports=function e(r,t,l,o,s){var i=-1,c=r.length;for(l||(l=a),s||(s=[]);++i<c;){var u=r[i];t>0&&l(u)?t>1?e(u,t-1,l,o,s):n(s,u):o||(s[s.length]=u)}return s}},25970:function(e,r,t){var n=t(63012),a=t(79095);e.exports=function(e,r){return n(e,r,function(r,t){return a(e,t)})}},63012:function(e,r,t){var n=t(97786),a=t(10611),l=t(71811);e.exports=function(e,r,t){for(var o=-1,s=r.length,i={};++o<s;){var c=r[o],u=n(e,c);t(u,c)&&a(i,l(c,e),u)}return i}},10611:function(e,r,t){var n=t(34865),a=t(71811),l=t(65776),o=t(13218),s=t(40327);e.exports=function(e,r,t,i){if(!o(e))return e;r=a(r,e);for(var c=-1,u=r.length,d=u-1,f=e;null!=f&&++c<u;){var x=s(r[c]),p=t;if("__proto__"===x||"constructor"===x||"prototype"===x)break;if(c!=d){var h=f[x];void 0===(p=i?i(h,x,f):void 0)&&(p=o(h)?h:l(r[c+1])?[]:{})}n(f,x,p),f=f[x]}return e}},56560:function(e,r,t){var n=t(75703),a=t(38777),l=t(6557);e.exports=a?function(e,r){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(r),writable:!0})}:l},99021:function(e,r,t){var n=t(85564),a=t(45357),l=t(30061);e.exports=function(e){return l(a(e,void 0,n),e+"")}},37285:function(e,r,t){var n=t(62705),a=t(35694),l=t(1469),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return l(e)||a(e)||!!(o&&e&&e[o])}},45357:function(e,r,t){var n=t(96874),a=Math.max;e.exports=function(e,r,t){return r=a(void 0===r?e.length-1:r,0),function(){for(var l=arguments,o=-1,s=a(l.length-r,0),i=Array(s);++o<s;)i[o]=l[r+o];o=-1;for(var c=Array(r+1);++o<r;)c[o]=l[o];return c[r]=t(i),n(e,this,c)}}},30061:function(e,r,t){var n=t(56560),a=t(21275)(n);e.exports=a},21275:function(e){var r=Date.now;e.exports=function(e){var t=0,n=0;return function(){var a=r(),l=16-(a-n);if(n=a,l>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},75703:function(e){e.exports=function(e){return function(){return e}}},85564:function(e,r,t){var n=t(21078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},78718:function(e,r,t){var n=t(25970),a=t(99021)(function(e,r){return null==e?{}:n(e,r)});e.exports=a},56896:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(34628)}])},50640:function(e,r,t){"use strict";t.d(r,{p:function(){return a}});var n=t(85893);function a(e){return(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{d:"M17.3471 8.77565H11.2246V2.6532C11.2246 1.97728 10.6761 1.42871 10.0001 1.42871C9.32422 1.42871 8.77565 1.97728 8.77565 2.6532V8.77565H2.6532C1.97728 8.77565 1.42871 9.32422 1.42871 10.0001C1.42871 10.6761 1.97728 11.2246 2.6532 11.2246H8.77565V17.3471C8.77565 18.023 9.32422 18.5716 10.0001 18.5716C10.6761 18.5716 11.2246 18.023 11.2246 17.3471V11.2246H17.3471C18.023 11.2246 18.5716 10.6761 18.5716 10.0001C18.5716 9.32422 18.023 8.77565 17.3471 8.77565Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2"})})}},72057:function(e,r,t){"use strict";t.d(r,{l:function(){return s}});var n=t(85893),a=t(87536),l=t(47533),o=t(67294);let s=e=>{let{onSubmit:r,children:t,useFormProps:s,validationSchema:i,serverError:c,resetFields:u,...d}=e,f=(0,a.cI)({...s,...i&&{resolver:(0,l.X)(i)}});return(0,o.useEffect)(()=>{c&&Object.entries(c).forEach(e=>{let[r,t]=e;f.setError(r,{type:"manual",message:t})})},[c,f]),(0,o.useEffect)(()=>{u&&f.reset(u)},[u,f]),(0,n.jsx)("form",{noValidate:!0,onSubmit:f.handleSubmit(r),...d,children:t(f)})}},25788:function(e,r,t){"use strict";var n=t(85893),a=t(67294),l=t(94184),o=t.n(l),s=t(76395);let i=(0,a.forwardRef)((e,r)=>{let{label:t,error:a,type:l="text",className:i,inputClassName:c="bg-transparent",...u}=e,{t:d}=(0,s.$G)("common");return(0,n.jsxs)("div",{className:i,children:[(0,n.jsxs)("label",{className:"block text-13px",children:[t&&(0,n.jsx)("span",{className:"block cursor-pointer pb-2.5 font-normal text-dark/70 rtl:text-right dark:text-light/70",children:d(t)}),(0,n.jsx)("input",{type:l,ref:r,...u,className:o()("h-11 w-full appearance-none rounded border border-light-500 bg-transparent px-4 py-2 text-13px text-dark ring-[0.5px] ring-light-500 placeholder:text-dark-900 focus:border-brand focus:ring-[0.5px] focus:ring-brand dark:border-dark-600 dark:text-light dark:ring-dark-600 dark:placeholder:text-dark-700 dark:focus:border-brand dark:focus:ring-brand md:h-12 lg:px-5 xl:h-[50px]",c)})]}),a&&(0,n.jsx)("span",{role:"alert",className:"block pt-2 text-xs text-warning",children:d(a)})]})});i.displayName="Input",r.Z=i},65704:function(e,r,t){"use strict";t.d(r,{Tv:function(){return l.a},ZP:function(){return d},m5:function(){return u}});var n=t(85893);t(6987);var a=t(67555),l=t.n(a),o=t(15103),s=t(48583),i=t(67294);let c=(0,o.cn)("");function u(){let[e,r]=(0,s.KO)(c);return{phoneNumber:e,setPhoneNumber:r}}function d(e){let{className:r,defaultValue:t}=e,{phoneNumber:a,setPhoneNumber:o}=u();return(0,i.useEffect)(()=>{t&&o(t)},[]),(0,n.jsx)("div",{className:r,children:(0,n.jsx)(l(),{country:"us",value:a,onChange:e=>o(e)})})}},21465:function(e,r,t){"use strict";var n=t(85893),a=t(67294),l=t(94184),o=t.n(l),s=t(76395);let i=(0,a.forwardRef)((e,r)=>{let{label:t,error:a,className:l,inputClassName:i="bg-transparent",...c}=e,{t:u}=(0,s.$G)("common");return(0,n.jsxs)("div",{className:l,children:[(0,n.jsxs)("label",{className:"block text-13px",children:[t&&(0,n.jsx)("span",{className:"block cursor-pointer pb-2.5 font-normal text-dark/70 dark:text-light/70",children:u(t)}),(0,n.jsx)("textarea",{ref:r,...c,className:o()("min-h-[150px] w-full appearance-none rounded border border-light-500 px-4 py-3 text-13px text-dark ring-[0.5px] ring-light-500 placeholder:text-dark-900 focus:border-brand focus:ring-[0.5px] focus:ring-brand dark:border-dark-600 dark:text-light dark:ring-dark-600 dark:placeholder:text-dark-700 dark:focus:border-brand dark:focus:ring-brand lg:px-5",i)})]}),a&&(0,n.jsx)("span",{role:"alert",className:"block pt-2 text-xs text-warning",children:u(a)})]})});i.displayName="Textarea",r.Z=i},99808:function(e,r,t){"use strict";t.d(r,{Z:function(){return m}});var n=t(85893),a=t(94184),l=t.n(a),o=t(5099),s=t(67294),i=t(8523),c=t(88767),u=t(82921),d=t(18855),f=t(67896),x=t(54160),p=t(50640);function h(e){return e?Array.isArray(e)?e:[e]:null}function m(e){let{onChange:r,value:t,name:a,onBlur:m,multiple:v=!0}=e,[g,b]=(0,s.useState)(h(t));(0,s.useEffect)(()=>{b(h(t))},[t]);let{mutate:j,isLoading:k}=(0,c.useMutation)(o.Z.settings.upload,{onSuccess:e=>{let t=v?e:e[0];r(t),b(e)},onError:e=>{console.log(e)}}),N=(0,s.useCallback)(e=>{j(e)},[j]),{getRootProps:w,getInputProps:y}=(0,i.uI)({accept:"image/*",multiple:v,onDrop:N});function _(e){if(!g)return;let t=g.filter(r=>r.id!==e);if(!t.length){b(null),r(null);return}b(t);let n=v?t:t[0];r(n)}return(0,n.jsxs)("div",{className:"flex flex-wrap gap-2.5",children:[(0,n.jsxs)("div",{...w({className:l()("relative border-dashed border-2 border-light-500 dark:border-dark-600 text-center flex flex-col justify-center hover:text-black dark:hover:text-light items-center cursor-pointer focus:border-accent-400 focus:outline-none",{"h-20 w-20 rounded-md shrink-0":!0===v,"h-36 w-full rounded":!1===v})}),children:[(0,n.jsx)("input",{...y({name:a,onBlur:m})}),!0!==v?Array.isArray(g)?g.map(e=>{let{id:r,original:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"relative h-20 w-20 overflow-hidden rounded-full",children:(0,n.jsx)(u.Z,{alt:"Avatar",src:t,fill:!0,className:"object-scale-down"})}),(0,n.jsx)(f.Z,{onClick:e=>{e.stopPropagation(),_(r)},variant:"icon",className:"absolute top-0 right-0 p-3",children:(0,n.jsx)(d.T,{className:"h-4 w-4 3xl:h-5 3xl:w-5"})})]},r)}):"Upload Your Avatar Image (80 X 80)":!k&&(0,n.jsx)(p.p,{className:"h-5 w-5"}),k&&(0,n.jsxs)("span",{className:"mt-2.5 flex items-center gap-1 font-medium text-light-500",children:[(0,n.jsx)(x.L,{className:"h-auto w-5 animate-spin text-brand"})," ",!0!==v&&"Loading..."]})]}),Array.isArray(g)&&!0===v&&g.map(e=>{let{id:r,original:t}=e;return(0,n.jsxs)("div",{className:"group relative h-20 w-20 overflow-hidden rounded-md",children:[(0,n.jsx)("div",{className:"relative h-full w-full overflow-hidden rounded-md",children:(0,n.jsx)(u.Z,{alt:"Attachment",src:t,fill:!0,className:"object-cover"})}),(0,n.jsx)("div",{className:"absolute top-0 right-0 flex h-full w-full items-center justify-center bg-dark/60 opacity-0 transition-all group-hover:opacity-100",children:(0,n.jsx)(f.Z,{onClick:e=>{e.stopPropagation(),_(r)},variant:"icon",className:"h-9 w-9 rounded-full bg-dark/60",children:(0,n.jsx)(d.T,{className:"h-4 w-4"})})})]},r)})]})}},34628:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return _}});var n=t(85893),a=t(76395),l=t(87536),o=t(88767),s=t(80545),i=t(86501),c=t(31520),u=t(72057),d=t(25788),f=t(21465),x=t(65704),p=t(67896),h=t(5099),m=t(51075),v=t(61661),g=t(78718),b=t.n(g),j=t(94937),k=t(99808),N=t(74231);let w=N.Ry().shape({id:N.Z_().required(),name:N.Z_().required(),profile:N.Ry().shape({id:N.Z_(),bio:N.Z_(),contact:N.Z_(),avatar:N.Ry().shape({id:N.Z_(),thumbnail:N.Z_(),original:N.Z_()}).optional().nullable()})}),y=()=>{let{t:e}=(0,a.$G)("common"),r=(0,o.useQueryClient)(),{me:t}=(0,v.P)(),{mutate:c,isLoading:g}=(0,o.useMutation)(h.Z.users.update,{onSuccess:()=>{i.ZP.success((0,n.jsx)("b",{children:e("text-profile-page-success-toast")}),{className:"-mt-10 xs:mt-0"})},onError:r=>{i.ZP.error((0,n.jsx)("b",{children:e("text-profile-page-error-toast")}),{className:"-mt-10 xs:mt-0"}),console.log(r)},onSettled:()=>{r.invalidateQueries(j.P.USERS_ME)}}),N=e=>{alert("This mutation is disabled for demo purposes")};return(0,n.jsxs)(s.E.div,{variants:(0,m.op)(),className:"flex min-h-full flex-grow flex-col",children:[(0,n.jsx)("h1",{className:"mb-5 text-15px font-medium text-dark dark:text-light sm:mb-6",children:e("text-profile-page-title")}),(0,n.jsx)(u.l,{onSubmit:N,useFormProps:{defaultValues:b()(t,["id","name","profile.id","profile.contact","profile.bio","profile.avatar"])},validationSchema:w,className:"flex flex-grow flex-col",children:r=>{var a,o,s,i,c;let{register:u,reset:h,control:m,formState:{errors:v}}=r;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("fieldset",{className:"mb-6 grid gap-5 pb-5 sm:grid-cols-2 md:pb-9 lg:mb-8",children:[(0,n.jsx)(l.Qr,{name:"profile.avatar",control:m,render:r=>{let{field:{ref:t,...a}}=r;return(0,n.jsxs)("div",{className:"sm:col-span-2",children:[(0,n.jsx)("span",{className:"block cursor-pointer pb-2.5 font-normal text-dark/70 dark:text-light/70",children:e("text-profile-avatar")}),(0,n.jsx)("div",{className:"text-xs",children:(0,n.jsx)(k.Z,{...a,multiple:!1})})]})}}),(0,n.jsx)(d.Z,{label:e("text-profile-name"),...u("name"),error:null===(a=v.name)||void 0===a?void 0:a.message}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"block cursor-pointer pb-2.5 font-normal text-dark/70 dark:text-light/70",children:e("text-profile-contact")}),(0,n.jsx)(l.Qr,{name:"profile.contact",control:m,render:e=>{let{field:r}=e;return(0,n.jsx)(x.Tv,{country:"us",...r})}}),(null===(o=v.profile)||void 0===o?void 0:null===(s=o.contact)||void 0===s?void 0:s.message)&&(0,n.jsx)("span",{role:"alert",className:"block pt-2 text-xs text-warning",children:"contact field is required"})]}),(0,n.jsx)(f.Z,{label:e("text-profile-bio"),...u("profile.bio"),error:(null===(i=v.profile)||void 0===i?void 0:null===(c=i.bio)||void 0===c?void 0:c.message)&&"bio field is required",className:"sm:col-span-2"})]}),(0,n.jsxs)("div",{className:"mt-auto flex items-center gap-4 pb-3 lg:justify-end",children:[(0,n.jsx)(p.Z,{type:"reset",onClick:()=>{var e;return h({id:null==t?void 0:t.id,name:"",profile:{id:null==t?void 0:null===(e=t.profile)||void 0===e?void 0:e.id,avatar:null,bio:"",contact:""}})},disabled:g,variant:"outline",className:"flex-1 lg:flex-none",children:e("text-cancel")}),(0,n.jsx)(p.Z,{className:"flex-1 lg:flex-none",isLoading:g,disabled:g,children:e("text-save-changes")})]})]})}})]})};y.authorization=!0,y.getLayout=function(e){return(0,n.jsx)(c.Z,{children:e})};var _=!0;r.default=y}},function(e){e.O(0,[862,7533,2765,8523,3176,7937,1520,9774,2888,179],function(){return e(e.s=56896)}),_N_E=e.O()}]);